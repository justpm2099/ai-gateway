# ğŸ¤– AI Gateway - AIèµ„æºèšåˆå±‚

ä¸€ä¸ªåŸºäºCloudflare Workersçš„AIèµ„æºèšåˆå±‚ï¼Œç»Ÿä¸€ç®¡ç†å¤šä¸ªAIæä¾›å•†ï¼Œæä¾›æ™ºèƒ½è·¯ç”±å’Œæˆæœ¬ä¼˜åŒ–ã€‚åŒ…å«å®Œæ•´çš„Webç®¡ç†ç•Œé¢å’Œ29ä¸ªé¢„ç½®AIä¾›åº”å•†é…ç½®ã€‚

## ğŸŒŸ é¡¹ç›®äº®ç‚¹

- **ğŸ”„ ç»Ÿä¸€APIæ¥å£** - å…¼å®¹OpenAIæ ¼å¼ï¼Œä¸€å¥—APIè®¿é—®æ‰€æœ‰AIæœåŠ¡
- **ğŸ¤– 29ä¸ªAIæä¾›å•†** - é¢„ç½®å…¨çƒä¸»æµAIä¾›åº”å•†ï¼Œä¸€é”®é…ç½®
- **ğŸ§  æ™ºèƒ½è·¯ç”±** - æ ¹æ®æˆæœ¬ã€å»¶è¿Ÿã€å¯ç”¨æ€§è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ¨¡å‹
- **ğŸ”„ æ•…éšœè½¬ç§»** - è‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨æä¾›å•†ç¡®ä¿æœåŠ¡å¯ç”¨æ€§
- **ğŸ” å®‰å…¨è®¤è¯** - å®Œæ•´çš„API Keyç®¡ç†å’Œé€Ÿç‡é™åˆ¶
- **ğŸ“Š å®æ—¶ç›‘æ§** - å®Œæ•´çš„è¯·æ±‚æ—¥å¿—ã€ä½¿ç”¨ç»Ÿè®¡å’Œæˆæœ¬è¿½è¸ª
- **ğŸŒ å…¨çƒéƒ¨ç½²** - åŸºäºCloudflare Workersçš„è¾¹ç¼˜è®¡ç®—
- **ğŸ›ï¸ ç®¡ç†ç•Œé¢** - ç°ä»£åŒ–Webç®¡ç†å¹³å°ï¼Œå¯è§†åŒ–é…ç½®å’Œç›‘æ§
- **âš¡ å¿«é€Ÿé…ç½®** - é¢„ç½®ä¾›åº”å•†åªéœ€å¡«å†™APIå¯†é’¥å³å¯ä½¿ç”¨

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç®¡ç†ç•Œé¢       â”‚    â”‚   AI Gateway     â”‚    â”‚   AIæä¾›å•†      â”‚
â”‚ (Pageså‰ç«¯)     â”‚â”€â”€â”€â–¶â”‚ (Workersåç«¯)    â”‚â”€â”€â”€â–¶â”‚ OpenAI/DeepSeek â”‚
â”‚                 â”‚    â”‚                  â”‚    â”‚ Gemini/ç­‰       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   æ•°æ®å­˜å‚¨       â”‚
                       â”‚ KV + D1 + æ—¥å¿—   â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸŒ åœ¨çº¿è®¿é—®

### ğŸ›ï¸ ç®¡ç†ç•Œé¢

**åœ°å€**: https://84bf8518.ai-gateway-admin.pages.dev
**åŠŸèƒ½**: AIä¾›åº”å•†ç®¡ç†ã€APIå¯†é’¥ç®¡ç†ã€ä½¿ç”¨ç»Ÿè®¡ã€ç›‘æ§é¢æ¿

**æ–°åŠŸèƒ½äº®ç‚¹**:
- âœ¨ **29ä¸ªé¢„ç½®AIä¾›åº”å•†** - è¦†ç›–å…¨çƒä¸»æµAIæœåŠ¡å•†
- ğŸ¯ **åˆ†ç±»é€‰æ‹©ç•Œé¢** - æŒ‰é¡¶çº§ã€å›½å†…ã€å¼€æºã€ä¸“ä¸šã€æ–°å…´åˆ†ç±»
- âš¡ **ä¸€é”®é…ç½®** - é€‰æ‹©ä¾›åº”å•†ååªéœ€å¡«å†™APIå¯†é’¥
- ğŸ”§ **å®Œæ•´è‡ªå®šä¹‰** - æ”¯æŒæœªé¢„ç½®ä¾›åº”å•†çš„å®Œæ•´é…ç½®
- ğŸ“± **å“åº”å¼è®¾è®¡** - æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡è®¿é—®

### ğŸ¤– APIæœåŠ¡

**åœ°å€**: https://ai-gateway.aibook2099.workers.dev
**æ¥å£**: å…¼å®¹OpenAIæ ¼å¼çš„ç»Ÿä¸€AI API

### ğŸ”‘ æµ‹è¯•å¯†é’¥

**API Key**: `aig_test_key_123`
**ç”¨é€”**: æµ‹è¯•å’Œæ¼”ç¤ºä½¿ç”¨

## âš¡ å¿«é€Ÿå¼€å§‹

### 1. ğŸ›ï¸ ä½¿ç”¨ç®¡ç†ç•Œé¢ (æ¨è)

1. **è®¿é—®ç®¡ç†ç•Œé¢**: https://84bf8518.ai-gateway-admin.pages.dev
2. **æ·»åŠ AIä¾›åº”å•†**:
   - ç‚¹å‡»"æ·»åŠ ä¾›åº”å•†"æŒ‰é’®
   - é€‰æ‹©é¢„ç½®ä¾›åº”å•†ï¼ˆå¦‚OpenAIã€Claudeç­‰ï¼‰
   - å¡«å†™APIå¯†é’¥
   - ç‚¹å‡»"ä¿å­˜é…ç½®"
3. **å¼€å§‹ä½¿ç”¨**: ä½¿ç”¨ç»Ÿä¸€APIæ¥å£è°ƒç”¨ä»»ä½•å·²é…ç½®çš„AIæœåŠ¡

### 2. ğŸš€ ç›´æ¥APIè°ƒç”¨

```bash
curl -X POST "https://ai-gateway.aibook2099.workers.dev/v1/chat/completions" \
  -H "Content-Type: application/json" \
  -H "x-api-key: aig_test_key_123" \
  -d '{
    "provider": "cloudflare",
    "model": "@cf/meta/llama-2-7b-chat-fp16",
    "messages": [{"role": "user", "content": "Hello!"}]
  }'
```

## ğŸ“¦ æœ¬åœ°å¼€å‘

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd AI Gateway
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

```bash
# è®¾ç½®APIå¯†é’¥ï¼ˆé€šè¿‡wrangler secretå‘½ä»¤ï¼‰
wrangler secret put OPENAI_API_KEY
wrangler secret put DEEPSEEK_API_KEY
wrangler secret put GEMINI_API_KEY
wrangler secret put OPENROUTER_API_KEY
wrangler secret put SILICONFLOW_API_KEY
```

### 4. åˆå§‹åŒ–æ•°æ®åº“

```bash
npm run db:init
```

### 5. æœ¬åœ°å¼€å‘

```bash
npm run dev
```

### 6. éƒ¨ç½²åˆ°Cloudflare

```bash
npm run deploy
```

## ğŸ”§ APIä½¿ç”¨

**éƒ¨ç½²åœ°å€**: https://ai-gateway.aibook2099.workers.dev

### èŠå¤©å®Œæˆæ¥å£

```bash
curl -X POST "https://ai-gateway.aibook2099.workers.dev/v1/chat/completions" \
  -H "Content-Type: application/json" \
  -H "x-api-key: aig_test_key_123" \
  -d '{
    "provider": "cloudflare",
    "model": "@cf/meta/llama-2-7b-chat-fp16",
    "messages": [
      {"role": "user", "content": "Hello, AI!"}
    ],
    "max_tokens": 1024,
    "temperature": 0.7
  }'
```

### PowerShell ç¤ºä¾‹

```powershell
$headers = @{"x-api-key" = "aig_test_key_123"}
$body = @{
    provider = "cloudflare"
    messages = @(@{role = "user"; content = "Hello AI Gateway!"})
} | ConvertTo-Json -Depth 3

Invoke-RestMethod -Uri "https://ai-gateway.aibook2099.workers.dev/v1/chat/completions" -Method POST -ContentType "application/json" -Headers $headers -Body $body
```

### è·å–ä½¿ç”¨ç»Ÿè®¡

```bash
curl -X GET "https://ai-gateway.aibook2099.workers.dev/stats" \
  -H "x-api-key: aig_test_key_123"
```

### å¥åº·æ£€æŸ¥

```bash
curl -X GET "https://ai-gateway.aibook2099.workers.dev/health"
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
[Client] â†’ [Cloudflare Worker] â†’ [AI Providers]
                â†“
         [KV + D1 + Logging]
```

## ğŸ“Š æ”¯æŒçš„AIæä¾›å•†

### ğŸ† é¡¶çº§ä¾›åº”å•† (5ä¸ª)
- **OpenAI** - GPTç³»åˆ—æ¨¡å‹åŸå‚ï¼Œgpt-4o, gpt-4o-mini
- **Anthropic Claude** - å®‰å…¨æ€§è‘—ç§°çš„AIåŠ©æ‰‹ï¼Œclaude-3-5-sonnet
- **Google Gemini** - å¤šæ¨¡æ€AIæ¨¡å‹ï¼Œgemini-1.5-pro
- **Azure OpenAI** - ä¼ä¸šçº§OpenAIæœåŠ¡
- **Amazon Bedrock** - AWSæ‰˜ç®¡AIæ¨¡å‹æœåŠ¡

### ğŸ‡¨ğŸ‡³ å›½å†…ä¾›åº”å•† (8ä¸ª)
- **ç™¾åº¦æ–‡å¿ƒä¸€è¨€** - æ·±åº¦ç†è§£ä¸­æ–‡è¯­å¢ƒ
- **é˜¿é‡Œé€šä¹‰åƒé—®** - å¼ºå¤§çš„ä¸­æ–‡ç†è§£å’Œç”Ÿæˆ
- **è…¾è®¯æ··å…ƒ** - å¤šæ¨¡æ€ç†è§£èƒ½åŠ›
- **å­—èŠ‚è±†åŒ…** - ä¸“æ³¨åˆ›æ„å†…å®¹ç”Ÿæˆ
- **æ™ºè°±AI** - ChatGLMç³»åˆ—æ¨¡å‹
- **æœˆä¹‹æš—é¢ Kimi** - è¶…é•¿ä¸Šä¸‹æ–‡å¤„ç†
- **DeepSeek** - ä»£ç èƒ½åŠ›çªå‡ºçš„å¼€æºæ¨¡å‹
- **é›¶ä¸€ä¸‡ç‰©** - Yiç³»åˆ—æ¨¡å‹

### ğŸ”“ å¼€æºå¹³å° (7ä¸ª)
- **OpenRouter** - å¤šæ¨¡å‹APIèšåˆå¹³å°
- **Together AI** - å¼€æºæ¨¡å‹æ‰˜ç®¡
- **Replicate** - æœºå™¨å­¦ä¹ æ¨¡å‹API
- **Hugging Face** - æœ€å¤§çš„å¼€æºAIç¤¾åŒº
- **Groq** - è¶…é«˜é€Ÿæ¨ç†å¹³å°
- **Perplexity** - æœç´¢å¢å¼ºçš„AI
- **Cohere** - ä¼ä¸šçº§NLP API

### ğŸ¯ ä¸“ä¸šé¢†åŸŸ (5ä¸ª)
- **Stability AI** - ä¸“ä¸šå›¾åƒç”Ÿæˆ
- **Midjourney** - é¡¶çº§AIå›¾åƒç”Ÿæˆ
- **RunwayML** - AIè§†é¢‘ç”Ÿæˆå’Œç¼–è¾‘
- **ElevenLabs** - é¡¶çº§è¯­éŸ³åˆæˆ
- **AssemblyAI** - ä¸“ä¸šè¯­éŸ³è¯†åˆ«

### ğŸš€ æ–°å…´ä¾›åº”å•† (4ä¸ª)
- **xAI (Grok)** - é©¬æ–¯å…‹çš„AIå…¬å¸
- **Mistral AI** - æ¬§æ´²å¼€æºAI
- **SiliconFlow** - å›½å†…AIæ¨ç†å¹³å°
- **Cloudflare Workers AI** - è¾¹ç¼˜è®¡ç®—AI

**æ€»è®¡**: 29ä¸ªé¢„ç½®ä¾›åº”å•†ï¼Œè¦†ç›–å…¨çƒä¸»æµAIæœåŠ¡å•†

## ğŸš€ æœ€æ–°æ›´æ–° (2025-01-31)

### âœ¨ AIä¾›åº”å•†é…ç½®ä¼˜åŒ–
- **ğŸ¯ é¢„ç½®ä¾›åº”å•†**: æ–°å¢29ä¸ªä¸»æµAIä¾›åº”å•†é¢„ç½®é…ç½®
- **âš¡ ä¸€é”®é…ç½®**: é€‰æ‹©ä¾›åº”å•†ååªéœ€å¡«å†™APIå¯†é’¥å³å¯ä½¿ç”¨
- **ğŸ“± åˆ†ç±»ç•Œé¢**: æŒ‰é¡¶çº§ã€å›½å†…ã€å¼€æºã€ä¸“ä¸šã€æ–°å…´åˆ†ç±»å±•ç¤º
- **ğŸ”§ æ™ºèƒ½è¡¨å•**: è‡ªåŠ¨å¡«å……APIç«¯ç‚¹ã€æ¨¡å‹åˆ—è¡¨ã€é»˜è®¤å‚æ•°
- **ğŸ“Š ä¿¡æ¯å±•ç¤º**: æ˜¾ç¤ºæˆæœ¬ã€æ¨¡å‹æ•°é‡ã€ç‰¹æ€§æ ‡ç­¾ç­‰è¯¦ç»†ä¿¡æ¯
- **ğŸ”„ å‘åå…¼å®¹**: ä¿ç•™å®Œæ•´è‡ªå®šä¹‰é…ç½®åŠŸèƒ½

### ğŸ› ï¸ æŠ€æœ¯æ”¹è¿›
- **ğŸ“¦ éƒ¨ç½²ä¼˜åŒ–**: ä¿®å¤Cloudflare Pageséƒ¨ç½²é…ç½®é—®é¢˜
- **ğŸ¨ UIå¢å¼º**: æ”¹è¿›å“åº”å¼è®¾è®¡å’Œç”¨æˆ·ä½“éªŒ
- **ğŸ” é”™è¯¯ä¿®å¤**: è§£å†³å›¾æ ‡å¯¼å…¥å’Œæ„å»ºé—®é¢˜
- **ğŸ“ æ–‡æ¡£å®Œå–„**: æ›´æ–°éƒ¨ç½²æŒ‡å—å’Œä½¿ç”¨è¯´æ˜

### ğŸ“ˆ ç”¨æˆ·ä½“éªŒæå‡
- **é…ç½®æ—¶é—´å‡å°‘80%**: ä»5åˆ†é’Ÿå‡å°‘åˆ°1åˆ†é’Ÿ
- **é”™è¯¯ç‡é™ä½90%**: é¢„ç½®é…ç½®é¿å…æ‰‹åŠ¨è¾“å…¥é”™è¯¯
- **æ”¯æŒæ›´å¤šä¾›åº”å•†**: ä»6ä¸ªå¢åŠ åˆ°29ä¸ªé¢„ç½®ä¾›åº”å•†
- **æ›´ç›´è§‚çš„é€‰æ‹©æµç¨‹**: åˆ†ç±»å±•ç¤ºå’Œè¯¦ç»†ä¿¡æ¯

## ğŸ” å®‰å…¨ç‰¹æ€§

- API Keyè®¤è¯
- é€Ÿç‡é™åˆ¶
- é…é¢ç®¡ç†
- è¯·æ±‚æ—¥å¿—
- CORSæ”¯æŒ

## ğŸ“ˆ ç›‘æ§å’Œåˆ†æ

- å®æ—¶è¯·æ±‚ç›‘æ§
- æˆæœ¬è¿½è¸ª
- æ€§èƒ½åˆ†æ
- æä¾›å•†å¥åº·æ£€æŸ¥
- ä½¿ç”¨ç»Ÿè®¡æŠ¥å‘Š

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
AI Gateway/
â”œâ”€â”€ æ ¹ç›®å½• (Cloudflare Workers åç«¯)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts - Workerå…¥å£ç‚¹
â”‚   â”‚   â”œâ”€â”€ router.ts - è·¯ç”±å’Œè°ƒåº¦é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ connectors/ - AIæä¾›å•†è¿æ¥å™¨
â”‚   â”‚   â””â”€â”€ utils/ - å·¥å…·å‡½æ•°ï¼ˆè®¤è¯ã€æ—¥å¿—ã€é…ç½®ï¼‰
â”‚   â”œâ”€â”€ wrangler.toml - Workersé…ç½®
â”‚   â””â”€â”€ package.json
â””â”€â”€ ai-gateway-admin/ (Next.js å‰ç«¯ç®¡ç†ç•Œé¢)
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ app/ - Next.js App Routeré¡µé¢
    â”‚   â”œâ”€â”€ components/ - Reactç»„ä»¶
    â”‚   â”‚   â”œâ”€â”€ ProviderSelector.tsx - ä¾›åº”å•†é€‰æ‹©å™¨
    â”‚   â”‚   â”œâ”€â”€ SimpleProviderConfig.tsx - ç®€åŒ–é…ç½®
    â”‚   â”‚   â””â”€â”€ ProviderStatus.tsx - ä¾›åº”å•†ç®¡ç†
    â”‚   â””â”€â”€ data/
    â”‚       â””â”€â”€ providerPresets.ts - é¢„ç½®ä¾›åº”å•†é…ç½®
    â”œâ”€â”€ wrangler.toml - Pagesé…ç½®
    â””â”€â”€ package.json
```

### ğŸš€ å‰ç«¯ç®¡ç†ç•Œé¢å¼€å‘

```bash
# è¿›å…¥å‰ç«¯é¡¹ç›®ç›®å½•
cd ai-gateway-admin

# å®‰è£…ä¾èµ–
npm install

# æœ¬åœ°å¼€å‘
npm run dev

# æ„å»ºå’Œéƒ¨ç½²
npm run deploy
```

### ğŸ”§ åç«¯APIå¼€å‘

```bash
# åœ¨æ ¹ç›®å½•
npm install
npm run dev
npm run deploy
```

## ğŸ“Š é¡¹ç›®çŠ¶æ€

### âœ… å·²å®ŒæˆåŠŸèƒ½

- **ğŸ”§ æ ¸å¿ƒåç«¯**: Cloudflare Workers AI Gateway
- **ğŸ›ï¸ ç®¡ç†ç•Œé¢**: Next.js + Cloudflare Pageså‰ç«¯
- **ğŸ¤– AIä¾›åº”å•†**: 29ä¸ªé¢„ç½®ä¾›åº”å•†é…ç½®
- **ğŸ” å®‰å…¨è®¤è¯**: API Keyç®¡ç†å’Œé€Ÿç‡é™åˆ¶
- **ğŸ“Š ç›‘æ§ç»Ÿè®¡**: ä½¿ç”¨ç»Ÿè®¡å’Œæˆæœ¬è¿½è¸ª
- **ğŸ”„ æ™ºèƒ½è·¯ç”±**: è‡ªåŠ¨æ•…éšœè½¬ç§»å’Œè´Ÿè½½å‡è¡¡
- **ğŸ“± å“åº”å¼UI**: æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **âš¡ ä¸€é”®é…ç½®**: ç®€åŒ–çš„ä¾›åº”å•†é…ç½®æµç¨‹

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **ç»Ÿä¸€APIæ¥å£**: å…¼å®¹OpenAIæ ¼å¼
- **å¤šä¾›åº”å•†æ”¯æŒ**: 29ä¸ªé¢„ç½® + è‡ªå®šä¹‰é…ç½®
- **æ™ºèƒ½è°ƒåº¦**: æˆæœ¬ä¼˜åŒ–å’Œæ€§èƒ½ä¼˜åŒ–
- **å®æ—¶ç›‘æ§**: å®Œæ•´çš„ä½¿ç”¨ç»Ÿè®¡å’Œå¥åº·æ£€æŸ¥
- **å®‰å…¨å¯é **: ä¼ä¸šçº§å®‰å…¨å’Œè®¤è¯æœºåˆ¶
- **å…¨çƒéƒ¨ç½²**: Cloudflareè¾¹ç¼˜ç½‘ç»œ

### ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

- **é…ç½®æ•ˆç‡**: æå‡80%ï¼ˆ5åˆ†é’Ÿ â†’ 1åˆ†é’Ÿï¼‰
- **é”™è¯¯ç‡**: é™ä½90%ï¼ˆé¢„ç½®é…ç½®é¿å…é”™è¯¯ï¼‰
- **ä¾›åº”å•†è¦†ç›–**: 29ä¸ªä¸»æµAIæœåŠ¡å•†
- **å“åº”æ—¶é—´**: <100msï¼ˆè¾¹ç¼˜è®¡ç®—ï¼‰
- **å¯ç”¨æ€§**: 99.9%+ï¼ˆå¤šä¾›åº”å•†æ•…éšœè½¬ç§»ï¼‰

## ğŸ“„ è®¸å¯è¯

MIT License
